<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Trux.Base.html">Base</a><ul class='methods'><li data-type='method'><a href="Trux.Base.html#bindComponent">bindComponent</a></li><li data-type='method'><a href="Trux.Base.html#emitChangeEvent">emitChangeEvent</a></li><li data-type='method'><a href="Trux.Base.html#setRequestOptions">setRequestOptions</a></li><li data-type='method'><a href="Trux.Base.html#unbindComponent">unbindComponent</a></li><li data-type='method'><a href="Trux.Base.html#~broadcast">broadcast</a></li></ul></li><li><a href="Trux.Collection.html">Collection</a><ul class='methods'><li data-type='method'><a href="Trux.Collection.html#append">append</a></li><li data-type='method'><a href="Trux.Collection.html#fetch">fetch</a></li><li data-type='method'><a href="Trux.Collection.html#prepend">prepend</a></li><li data-type='method'><a href="Trux.Collection.html#purgeModels">purgeModels</a></li><li data-type='method'><a href="Trux.Collection.html#setModels">setModels</a></li></ul></li><li><a href="Trux.Model.html">Model</a><ul class='methods'><li data-type='method'><a href="Trux.Model.html#create">create</a></li><li data-type='method'><a href="Trux.Model.html#fetch">fetch</a></li><li data-type='method'><a href="Trux.Model.html#persist">persist</a></li><li data-type='method'><a href="Trux.Model.html#purge">purge</a></li><li data-type='method'><a href="Trux.Model.html#restoreData">restoreData</a></li><li data-type='method'><a href="Trux.Model.html#setData">setData</a></li><li data-type='method'><a href="Trux.Model.html#update">update</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="Trux.html">Trux</a><ul class='methods'><li data-type='method'><a href="Trux.html#.extend">extend</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><p>#<a href="https://github.com/rohan-deshpande/trux">Trux</a></p>
<p>Trux is an easy, lightweight and effective way of managing mutable data for your client side React.js app.</p>
<p>It allows you to create client side data store objects which contain bindings to React components. These objects do not manage the state of your components, they simply act as interfaces between your data and the client side of your app. Data store changes can be triggered anywhere in your app, these changes will then be broadcast to all of the store's bound components.</p>
<p><strong>In Trux, your data stores are the sources of truth for your app's data dependent React components.</strong></p>
<p>Trux comes packed with a parent object <code>Trux</code>, a <code>Trux.Base</code> class and two data store classes, <code>Trux.Model</code> and <code>Trux.Collection</code> which are designed to be extended for your own use cases.</p>
<p>Trux focuses on inheritance and provides a <code>Trux.extend</code> method to extend <code>Trux.Model</code> or <code>Trux.Collection</code> into sub classes with custom methods &amp; properties.</p>
<p>Checkout the short guide below, the examples and the docs to get an idea of how to use Trux.</p>
<blockquote>
<p>Trux was developed for my project management &amp; analytics application, <strong>Trakktion</strong> and was inspired by <a href="https://facebook.github.io/flux/">Flux</a> concepts. After hashing out the main concepts and developing a working prototype, I felt it was working quite nicely for me and thought others might find it useful, so I decided to turn it into its own thing.</p>
</blockquote>
<h2>Installation</h2><p>Bower up your app with Trux!</p>
<pre class="prettyprint source"><code>bower install trux</code></pre><p>Or simply</p>
<pre class="prettyprint source lang-html"><code>&lt;script type=&quot;text/javascript&quot; src=&quot;/path/to/trux.bundle.min.js&quot;>&lt;/script></code></pre><h2>Files</h2><p>The following files are included in the <code>dist</code> directory of the package</p>
<ul>
<li><code>trux.js</code> 100% pure Trux, no dependencies included and unminified</li>
<li><code>trux.min.js</code> Same as the above but minified</li>
<li><code>trux.bundle.js</code> A stable compiled build of Trux which includes its dependencies</li>
<li><code>trux.bundle.min.js</code> Same as the above but minified</li>
</ul>
<h2>Basic Usage</h2><p>After including Trux in your app, construct a new <code>Trux.Model</code>, pass it some data and bind a component to it, remembering to set the component's <code>appDataDidChange</code> method. Then, render the component into the DOM.</p>
<pre class="prettyprint source lang-javascript"><code>/**
 * Construct a new Trux.Model and give it some data containing a message property.
 *
 */
var MyModel = new Trux.Model({'message':'hello world'});

/**
 * Create a React component which will have MyModel passed to it via props.
 *
 */
var MyComponent = React.createClass({

    propTypes: {
        model:React.PropTypes.object.isRequired
    }

    getInitialState:function () {
        return {
            model:this.props.model
        };
    },

    /**
     * Set the component's unique truxId and bind the component to the model.
     *
     */
    componentDidMount:function () {
        this.truxId = 'MyComponent'
        this.state.model.bindComponent(this);
    },

    /**
     * The method called by Trux's private broadcast method which persists changes in data across bound components.
     *
     */
    appDataDidChange:function () {
        this.forceUpdate();
    },

    /**
     * Render the component and display the model's message.
     *
     */
    render:function() {
        return &lt;div>{this.state.model.data.message}&lt;/div>;
    }
});

/**
 * Render the component into the DOM
 *
 */ 
ReactDOM.Render(
    &lt;MyComponent model={MyModel} />, 
    document.getElementById('app')
);</code></pre><p>Mutate the data inside of <code>MyModel</code> then call it's <code>emitChangeEvent()</code> method.</p>
<pre class="prettyprint source lang-javascript"><code>MyModel.data.message = 'goodbye cruel world';
MyModel.emitChangeEvent();</code></pre><p>These changes will now be reflected in <code>MyComponent</code>.</p>
<h2>Extending</h2><p>The power of Trux lies in its use of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Introduction_to_Object-Oriented_JavaScript">prototypal inheritance</a> which means that you can extend <code>Trux.Model</code> or <code>Trux.Collection</code> to create extended classes that have custom methods while still maintaining access to the methods and properties of their parent classes. Of course you can then extend your own custom classes into new ones as well.</p>
<p>Let's look at a simple way to do this.</p>
<pre class="prettyprint source lang-javascript"><code>/**
 * Declare an Trux.Model class. 
 * Custom classes should be stored inside the Trux.models or Trux.collections objects for easy reference.
 * Give the User model some custom methods.
 *
 */
Trux.models.User = Trux.extend({
    getFullName: function () {
        return this.data.firstName + ' ' + this.data.lastName;
    }
});

/**
 * Declare a new User model and give it some data.
 *
 */
var Bilbo = new Trux.models.User({
    firstName: 'Bilbo',
    lastName: 'Baggins'
});

/**
 * Call the custom function to get Biblo's full name!
 *
 */
console.log(Bilbo.getFullName()); // logs Bilbo Baggins</code></pre><p>From this short example you can see how we can easily extend Trux classes creating new classes with custom methods for whatever purpose we like.</p>
<h2>Working with remote data</h2><p>Trux was designed to work with a RESTful API. It assumes that your app has one or is working with an existing API, like <a href="https://parse.com">Parse</a> or <a href="https://firebase.com">Firebase</a>.</p>
<p>The provided methods within both <code>Trux.Model</code> and <code>Trux.Collection</code> do make some assumptions as to how data is being sent back from your API. If this doesn't gel with your setup, you can simply extend these classes and write your own REST methods or alternatively override the base methods yourself.</p>
<p>For more info on how this is achieved, please check the <code>remote.html</code> example which uses Parse and read the docs.</p>
<h2>License</h2><p>Copyright (c) 2016 Rohan Deshpande and other contributors</p>
<p>Licensed under the MIT License</p></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun Feb 07 2016 16:18:03 GMT+1100 (AEDT) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>